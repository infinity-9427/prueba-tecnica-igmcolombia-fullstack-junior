import{d as S,r as p,e as M,c as g,a as e,b as a,w as y,h as I,i as o,v as n,J as w,u as d,j as x,F as N,k as q,m as k,l as v,t as h,n as A,p as B,o as f,I as i,K as D}from"./index-zronXHME.js";const F={class:"mb-6"},j={class:"flex items-center justify-between"},R={class:"bg-white shadow-sm rounded-lg p-6"},T={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={class:"relative"},J=["type"],K={class:"relative"},L=["type"],z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},H=["value"],O={class:"ml-2 text-sm text-gray-700"},Q={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},W=["disabled"],Z=S({__name:"UserCreateView",setup(X){const V=B(),r=p(!1),u=p(!1),m=p(!1),t=p({name:"",email:"",password:"",confirmPassword:"",role:"",status:"active",phone:"",department:"",notes:"",permissions:[]}),C=[{key:"view_invoices",label:"View Invoices"},{key:"create_invoices",label:"Create Invoices"},{key:"edit_invoices",label:"Edit Invoices"},{key:"delete_invoices",label:"Delete Invoices"},{key:"view_clients",label:"View Clients"},{key:"manage_clients",label:"Manage Clients"},{key:"view_users",label:"View Users"},{key:"manage_users",label:"Manage Users"},{key:"view_reports",label:"View Reports"},{key:"system_settings",label:"System Settings"}],P=M(()=>t.value.name&&t.value.email&&t.value.password&&t.value.confirmPassword&&t.value.role&&t.value.password===t.value.confirmPassword),U=async()=>{if(t.value.password!==t.value.confirmPassword){alert("Passwords do not match");return}r.value=!0;try{console.log("Creating user:",t.value),await new Promise(b=>setTimeout(b,1e3)),V.push("/app/users")}catch(b){console.error("Error creating user:",b)}finally{r.value=!1}};return(b,s)=>{const c=A("router-link");return f(),g("div",null,[e("div",F,[e("div",j,[s[13]||(s[13]=e("div",null,[e("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Create User "),e("p",{class:"mt-1 text-sm text-gray-500"}," Add a new user to the system ")],-1)),a(c,{to:"/app/users",class:"inline-flex items-center rounded-md bg-gray-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-700"},{default:y(()=>[a(d(i),{icon:"mdi:arrow-left",class:"w-4 h-4 mr-2"}),s[12]||(s[12]=v(" Back to Users ",-1))]),_:1})])]),e("div",R,[e("form",{onSubmit:I(U,["prevent"]),class:"space-y-6"},[e("div",T,[e("div",null,[s[14]||(s[14]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"}," Full Name * ",-1)),o(e("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.value.name=l),id:"name",type:"text",required:"",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter full name"},null,512),[[n,t.value.name]])]),e("div",null,[s[15]||(s[15]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email Address * ",-1)),o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=l=>t.value.email=l),id:"email",type:"email",required:"",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter email address"},null,512),[[n,t.value.email]])]),e("div",null,[s[16]||(s[16]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Password * ",-1)),e("div",$,[o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.password=l),id:"password",type:u.value?"text":"password",required:"",class:"block w-full pr-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter password"},null,8,J),[[w,t.value.password]]),e("button",{type:"button",onClick:s[3]||(s[3]=l=>u.value=!u.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[a(d(i),{icon:u.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5"},null,8,["icon"])])])]),e("div",null,[s[17]||(s[17]=e("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 mb-2"}," Confirm Password * ",-1)),e("div",K,[o(e("input",{"onUpdate:modelValue":s[4]||(s[4]=l=>t.value.confirmPassword=l),id:"confirmPassword",type:m.value?"text":"password",required:"",class:"block w-full pr-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Confirm password"},null,8,L),[[w,t.value.confirmPassword]]),e("button",{type:"button",onClick:s[5]||(s[5]=l=>m.value=!m.value),class:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600"},[a(d(i),{icon:m.value?"mdi:eye":"mdi:eye-off",class:"h-5 w-5"},null,8,["icon"])])])]),e("div",null,[s[19]||(s[19]=e("label",{for:"role",class:"block text-sm font-medium text-gray-700 mb-2"}," Role * ",-1)),o(e("select",{"onUpdate:modelValue":s[6]||(s[6]=l=>t.value.role=l),id:"role",required:"",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},[...s[18]||(s[18]=[e("option",{value:""},"Select role",-1),e("option",{value:"user"},"User",-1),e("option",{value:"manager"},"Manager",-1),e("option",{value:"admin"},"Admin",-1)])],512),[[x,t.value.role]])]),e("div",null,[s[21]||(s[21]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700 mb-2"}," Status ",-1)),o(e("select",{"onUpdate:modelValue":s[7]||(s[7]=l=>t.value.status=l),id:"status",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"},[...s[20]||(s[20]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1),e("option",{value:"pending"},"Pending",-1)])],512),[[x,t.value.status]])])]),e("div",z,[e("div",null,[s[22]||(s[22]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"}," Phone Number ",-1)),o(e("input",{"onUpdate:modelValue":s[8]||(s[8]=l=>t.value.phone=l),id:"phone",type:"tel",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter phone number"},null,512),[[n,t.value.phone]])]),e("div",null,[s[23]||(s[23]=e("label",{for:"department",class:"block text-sm font-medium text-gray-700 mb-2"}," Department ",-1)),o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=l=>t.value.department=l),id:"department",type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Enter department"},null,512),[[n,t.value.department]])])]),e("div",null,[s[24]||(s[24]=e("label",{for:"notes",class:"block text-sm font-medium text-gray-700 mb-2"}," Notes ",-1)),o(e("textarea",{"onUpdate:modelValue":s[10]||(s[10]=l=>t.value.notes=l),id:"notes",rows:"3",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",placeholder:"Additional notes about the user"},null,512),[[n,t.value.notes]])]),e("div",null,[s[25]||(s[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-3"}," Permissions ",-1)),e("div",G,[(f(),g(N,null,q(C,l=>e("label",{key:l.key,class:"flex items-center"},[o(e("input",{"onUpdate:modelValue":s[11]||(s[11]=E=>t.value.permissions=E),value:l.key,type:"checkbox",class:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,8,H),[[D,t.value.permissions]]),e("span",O,h(l.label),1)])),64))])]),e("div",Q,[a(c,{to:"/app/users",class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:y(()=>[...s[26]||(s[26]=[v(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:r.value||!P.value,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},[r.value?(f(),k(d(i),{key:0,icon:"mdi:loading",class:"w-4 h-4 mr-2 animate-spin"})):(f(),k(d(i),{key:1,icon:"mdi:account-plus",class:"w-4 h-4 mr-2"})),v(" "+h(r.value?"Creating...":"Create User"),1)],8,W)])],32)])])}}});export{Z as default};
