import{d as R,r as V,f as B,y as D,c as d,b as c,u as n,w as u,o as i,z as N,F as y,k as P,m as f,A as E,B as I,C as U,D as z,l as g,t as h,x as T,q as v,s as m,a as F,E as G,G as M,H as K}from"./index-zronXHME.js";const O={class:"datatable-container"},j={class:"flex justify-between items-center"},q={key:4,class:"action-buttons"},H=R({__name:"DataTable",props:{data:{},columns:{},searchPlaceholder:{},loading:{type:Boolean},rowsPerPage:{},globalFilterFields:{},showViewAction:{type:Boolean},showEditAction:{type:Boolean},showDeleteAction:{type:Boolean},baseRoute:{}},emits:["delete"],setup(l,{emit:b}){const s=l,p=b,o=V({global:{value:null,matchMode:"contains"}}),w=(t,a)=>a.format?a.format(t):t||"",$=t=>(typeof t=="string"?parseFloat(t.replace(/,/g,"")):t).toLocaleString("en-US",{style:"currency",currency:"USD"}),L=t=>t?(t instanceof Date?t:new Date(t)).toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"}):"",S=(t,a)=>{if(!a)return;const e=a[t];if(["secondary","success","info","warn","danger","contrast"].includes(e))return e},k=(t,a)=>{if(!s.baseRoute)return"#";const e=s.baseRoute;return t==="view"?`${e}/${a.id}`:`${e}/${a.id}/edit`},x=()=>{o.value={global:{value:null,matchMode:"contains"}}},A=t=>{p("delete",t)};return B(()=>{console.log("DataTable mounted"),console.log("Initial data:",s.data),console.log("Global filter fields:",s.globalFilterFields),console.log("Initial filters:",o.value)}),D(()=>o.value.global.value,(t,a)=>{console.log("ðŸ” Filter changed from",a,"to",t),console.log("ðŸ“Š Current data length:",s.data?.length),console.log("ðŸŽ¯ Global filter fields:",s.globalFilterFields)}),D(()=>s.data,t=>{console.log("Data prop changed:",t?.length,"items")}),(t,a)=>(i(),d("div",O,[c(n(N),{filters:o.value,"onUpdate:filters":a[2]||(a[2]=e=>o.value=e),value:l.data,paginator:"",rows:l.rowsPerPage||10,dataKey:"id",loading:l.loading,globalFilterFields:l.globalFilterFields,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",responsiveLayout:"scroll"},{header:u(()=>[F("div",j,[c(n(m),{type:"button",icon:"pi pi-filter-slash",label:"Clear",variant:"outlined",onClick:a[0]||(a[0]=e=>x())}),c(n(G),null,{default:u(()=>[c(n(M),null,{default:u(()=>[...a[3]||(a[3]=[F("i",{class:"pi pi-search"},null,-1)])]),_:1}),c(n(K),{modelValue:o.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value.global.value=e),placeholder:l.searchPlaceholder||"Keyword Search"},null,8,["modelValue","placeholder"])]),_:1})])]),empty:u(()=>[...a[4]||(a[4]=[g(" No records found. ",-1)])]),loading:u(()=>[...a[5]||(a[5]=[g(" Loading data. Please wait. ",-1)])]),default:u(()=>[(i(!0),d(y,null,P(l.columns,e=>(i(),f(n(E),{key:e.field,field:e.field,header:e.header,sortable:e.sortable!==!1,style:I(e.style||"min-width: 12rem")},{body:u(r=>[e.type==="badge"?(i(),f(n(z),{key:0,value:w(r.data[e.field],e),severity:S(r.data[e.field],e.badgeClasses)},null,8,["value","severity"])):e.type==="currency"?(i(),d(y,{key:1},[g(h($(r.data[e.field])),1)],64)):e.type==="date"?(i(),d(y,{key:2},[g(h(L(r.data[e.field])),1)],64)):e.type==="boolean"?(i(),d("i",{key:3,class:T(["pi",{"pi-check-circle text-green-500":r.data[e.field],"pi-times-circle text-red-400":!r.data[e.field]}])},null,2)):e.type==="actions"?(i(),d("div",q,[l.showViewAction!==!1?(i(),f(n(m),{key:0,onClick:C=>t.$router.push(k("view",r.data)),icon:"pi pi-eye",variant:"text",size:"small",severity:"info",title:"View Details"},null,8,["onClick"])):v("",!0),l.showEditAction!==!1?(i(),f(n(m),{key:1,onClick:C=>t.$router.push(k("edit",r.data)),icon:"pi pi-pencil",variant:"text",size:"small",severity:"warn",title:"Edit Record"},null,8,["onClick"])):v("",!0),l.showDeleteAction?(i(),f(n(m),{key:2,onClick:C=>A(r.data),icon:"pi pi-trash",variant:"text",size:"small",severity:"danger",title:"Delete Record"},null,8,["onClick"])):v("",!0)])):e.slot?U(t.$slots,e.slot,{key:5,data:r.data,value:r.data[e.field]},void 0,!0):(i(),d(y,{key:6},[g(h(w(r.data[e.field],e)),1)],64))]),_:2},1032,["field","header","sortable","style"]))),128))]),_:3},8,["filters","value","rows","loading","globalFilterFields"])]))}}),J=(l,b)=>{const s=l.__vccOpts||l;for(const[p,o]of b)s[p]=o;return s},W=J(H,[["__scopeId","data-v-d8f98baa"]]),X=[{field:"number",header:"Invoice #",sortable:!0},{field:"client",header:"Client",sortable:!0},{field:"issueDate",header:"Issue Date",type:"date",sortable:!0},{field:"dueDate",header:"Due Date",type:"date",sortable:!0},{field:"amount",header:"Amount",type:"currency",sortable:!0},{field:"status",header:"Status",type:"badge",sortable:!0,badgeClasses:{paid:"success",pending:"warning",overdue:"danger",draft:"secondary"}},{field:"actions",header:"Actions",type:"actions",sortable:!1,style:"width: 150px"}],Y=[{field:"name",header:"Name",sortable:!0},{field:"document",header:"Document",sortable:!0},{field:"email",header:"Email",sortable:!0},{field:"phone",header:"Phone",sortable:!1},{field:"company",header:"Company",sortable:!0},{field:"status",header:"Status",type:"badge",sortable:!0,badgeClasses:{active:"success",inactive:"secondary"}},{field:"actions",header:"Actions",type:"actions",sortable:!1,style:"width: 150px"}],Z=[{field:"name",header:"Name",sortable:!0},{field:"email",header:"Email",sortable:!0},{field:"department",header:"Department",sortable:!0},{field:"role",header:"Role",type:"badge",sortable:!0,badgeClasses:{admin:"danger",manager:"info",user:"secondary"}},{field:"status",header:"Status",type:"badge",sortable:!0,badgeClasses:{active:"success",inactive:"secondary",pending:"warning"}},{field:"lastLogin",header:"Last Login",type:"date",sortable:!0,format:l=>l||"Never"},{field:"actions",header:"Actions",type:"actions",sortable:!1,style:"width: 150px"}];export{Y as C,W as D,X as I,Z as U};
