# =============================================================================
# Invoice Management System - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
APP_NAME=Laravel
APP_ENV=production
APP_KEY=
APP_DEBUG=false
APP_URL=http://localhost:8000
APP_TIMEZONE=UTC
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US
AUTO_MIGRATE=true

# Maintenance
APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

# PHP Configuration
PHP_CLI_SERVER_WORKERS=4
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_CONNECTION=pgsql
DB_HOST=db
DB_PORT=5432
DB_DATABASE=invoice_db
DB_USERNAME=postgres
DB_PASSWORD=secret

# PostgreSQL Configuration
POSTGRES_DB=invoice_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=secret
POSTGRES_INITDB_ARGS=--auth-host=scram-sha-256

# -----------------------------------------------------------------------------
# Session Configuration
# -----------------------------------------------------------------------------
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# -----------------------------------------------------------------------------
# Broadcasting & Queue Configuration
# -----------------------------------------------------------------------------
BROADCAST_CONNECTION=log
FILESYSTEM_DISK=r2
QUEUE_CONNECTION=database

# -----------------------------------------------------------------------------
# Cache Configuration
# -----------------------------------------------------------------------------
CACHE_STORE=redis
CACHE_PREFIX=

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379

# Redis Memory Configuration
REDIS_MAXMEMORY=200mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# -----------------------------------------------------------------------------
# Mail Configuration
# -----------------------------------------------------------------------------
MAIL_MAILER=log
MAIL_SCHEME=null
MAIL_HOST=127.0.0.1
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_FROM_ADDRESS="hello@example.com"
MAIL_FROM_NAME="${APP_NAME}"

# -----------------------------------------------------------------------------
# AWS Configuration
# -----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# -----------------------------------------------------------------------------
# Cloudflare R2 Configuration
# -----------------------------------------------------------------------------
CLOUDFLARE_R2_ACCESS_KEY_ID=your_r2_access_key_id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
CLOUDFLARE_R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com
CLOUDFLARE_R2_BUCKET=invoices
CLOUDFLARE_R2_URL=https://your-r2-domain.com
CLOUDFLARE_R2_DEFAULT_REGION=auto

# -----------------------------------------------------------------------------
# Cloudinary Configuration
# -----------------------------------------------------------------------------
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
CLOUDINARY_URL=cloudinary://your_api_key:your_api_secret@your_cloud_name

# -----------------------------------------------------------------------------
# Vite Configuration
# -----------------------------------------------------------------------------
VITE_APP_NAME="${APP_NAME}"

# -----------------------------------------------------------------------------
# Container Configuration
# -----------------------------------------------------------------------------
# Laravel App
LARAVEL_CONTAINER_NAME=laravel_app
LARAVEL_MEMORY_LIMIT=512M
LARAVEL_MEMORY_RESERVATION=256M

# Nginx
NGINX_CONTAINER_NAME=laravel_nginx
NGINX_PORT=8000
NGINX_MEMORY_LIMIT=128M
NGINX_MEMORY_RESERVATION=64M

# PostgreSQL
POSTGRES_CONTAINER_NAME=laravel_postgres
POSTGRES_PORT=5432
POSTGRES_MEMORY_LIMIT=512M
POSTGRES_MEMORY_RESERVATION=256M

# Redis
REDIS_CONTAINER_NAME=laravel_redis
REDIS_MEMORY_LIMIT=256M
REDIS_MEMORY_RESERVATION=128M

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
DOCKER_NETWORK_NAME=laravel
DOCKER_SUBNET=172.20.0.0/16

# -----------------------------------------------------------------------------
# PostgreSQL Performance Tuning
# -----------------------------------------------------------------------------
PG_SHARED_PRELOAD_LIBRARIES=pg_stat_statements
PG_STAT_STATEMENTS_TRACK=all
PG_MAX_CONNECTIONS=100
PG_SHARED_BUFFERS=256MB
PG_EFFECTIVE_CACHE_SIZE=1GB
PG_MAINTENANCE_WORK_MEM=64MB
PG_CHECKPOINT_COMPLETION_TARGET=0.9
PG_WAL_BUFFERS=16MB
PG_DEFAULT_STATISTICS_TARGET=100

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
# Laravel App Health Check
APP_HEALTHCHECK_INTERVAL=30s
APP_HEALTHCHECK_TIMEOUT=10s
APP_HEALTHCHECK_START_PERIOD=40s
APP_HEALTHCHECK_RETRIES=3

# Nginx Health Check  
NGINX_HEALTHCHECK_INTERVAL=30s
NGINX_HEALTHCHECK_TIMEOUT=10s
NGINX_HEALTHCHECK_START_PERIOD=30s
NGINX_HEALTHCHECK_RETRIES=3

# Database Health Check
DB_HEALTHCHECK_INTERVAL=10s
DB_HEALTHCHECK_TIMEOUT=5s
DB_HEALTHCHECK_START_PERIOD=30s
DB_HEALTHCHECK_RETRIES=5

# Redis Health Check
REDIS_HEALTHCHECK_INTERVAL=10s
REDIS_HEALTHCHECK_TIMEOUT=5s
REDIS_HEALTHCHECK_START_PERIOD=30s
REDIS_HEALTHCHECK_RETRIES=5



CLOUDFLARE_ACCESS_KEY_ID=YOUR_ACCESS_KEY_ID
CLOUDFLARE_URL=https://123456.r2.cloudflarestorage.com
CLOUDFLARE_SECRET_KEY_ID=YOUR_CLOUDFLARE_SECRET_KEY_ID